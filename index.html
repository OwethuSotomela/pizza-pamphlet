<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <title>Pizza-Pamphlet</title>
    <link rel="stylesheet" href="./css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js"></script>
    <script src="./js/app.js"></script>
</head>

<body>
    <div class="container" x-data="pizzas">
        <div class="col-12">
            <h1>Perfect Pizza</h1>
        </div>

        <div id="teleport"></div>

        <!-- add cart  -->

        <div class="cart" x-show="show()">
            <table class="myCart">
                <caption>Shopping Cart</caption>
                <template x-for="order in orders">
                    <tr>
                        <td><b x-text="order.size">ee</b> <strong> pizzas total:</strong></td>
                        <td><span class="smallTotalPrice" x-text="order.subTotal().toFixed(2)"></span></td>
                        <td><span class="smallTotalPrice" x-text="order.qty"></span></td>
                        <td>
                            <button @click="order.add()">+</button>
                            <button @click="order.minus()">-</button>
                        </td>
                    </tr>
                </template>

                <!-- My total & Checkout-->
                <tr>
                    <td><strong>Total price</strong></td>
                    <td><span class="totalPrice" x-text="getTotal().toFixed(2)"></span></td>
                </tr>

            </table>

            <!-- close cart  -->

            <div x-data="{ show: false }" class="makePayment">
                <button @click="show=!show">Make Payment</button>

                <template x-teleport="#teleport">
                    <div x-data="{userInput: ''}" x-show="show">
                        <div class='pay'>
                            <div class='nav'>
                                <img src="./images/pi2.png" class="ic" alt="">
                                <h3>Pay</h3>
                            </div>
                            <hr />
                        </div>

                        <div class="payments">
                            <span x-data="{paymentDetails: 'Enter an amount to pay: R'}" x-text="paymentDetails"></span>
                            <input x-model="userInput" type="number" class="inputPrice">
                            <span x-text="feedback" class="feedback"></span>
                            <button @click="makePayment(userInput)">Checkout</button>
                        </div>
                    </div>
                </template>

            </div>
        </div>

        <!-- end here  -->

        <div class="specials">

            <template x-for="order in orders">
                <div :class="order.size">
                    <img src="images/pi2.jpeg" alt="">
                    <h2 x-text="order.name"></h2>
                    <h3 x-text="order.price"></h3>
                    <i x-text="order.description"></i>
                    <h4 x-text="order.qty"></h4>
                    <button @click="orderPizza(order)">order</button>
                </div>
            </template>

        </div>

        <div class="footer">
            <div class="contact">
                <strong>Contact us at:</strong>
                (021)-541-1000

                <strong>twitter /fb /insta </strong> @perfectpizza
            </div>
            <div class="address">
                Pizza Plaza
                <br>
                Dough Road
                <br>
                Base Town
                <br>
                7890
            </div>
        </div>

    </div>
</body>

</html>